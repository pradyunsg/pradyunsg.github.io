<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>PDM does not implement PEP 582 | Pradyun Gedam</title><meta name=keywords content="Python Packaging,PDM,PEP 582,Quick Ones"><meta name=description content="PDM claims to implement PEP 582. However, if you look at what it implements, it is something completely different from the standard.
PDM&rsquo;s file system structure <root> __pypackages__ 3.10 bottle myscript.py PEP 582&rsquo;s file system structure <root> __pypackages__ lib python3.10 site-packages bottle myscript.py Why does this matter? Well, outside of the issues with implementing draft proposals in workflow tooling, I think this is reflective of the issues with the competitive nature of the Python packaging ecosystem&rsquo;s workflow tooling space."><meta name=author content><link rel=canonical href=https://pradyunsg.me/blog/2023/01/21/pdm-does-not-implement-pep-582/><link crossorigin=anonymous href=/assets/css/stylesheet.min.09f04afc8ed996c3597f110b2ca6fc20879c332fd399b4643100e043f79621b1.css integrity="sha256-CfBK/I7ZlsNZfxELLKb8IIecMy/TmbRkMQDgQ/eWIbE=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://pradyunsg.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://pradyunsg.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://pradyunsg.me/favicon-32x32.png><link rel=apple-touch-icon href=https://pradyunsg.me/apple-touch-icon.png><link rel=mask-icon href=https://pradyunsg.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.109.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="PDM does not implement PEP 582"><meta property="og:description" content="PDM claims to implement PEP 582. However, if you look at what it implements, it is something completely different from the standard.
PDM&rsquo;s file system structure <root> __pypackages__ 3.10 bottle myscript.py PEP 582&rsquo;s file system structure <root> __pypackages__ lib python3.10 site-packages bottle myscript.py Why does this matter? Well, outside of the issues with implementing draft proposals in workflow tooling, I think this is reflective of the issues with the competitive nature of the Python packaging ecosystem&rsquo;s workflow tooling space."><meta property="og:type" content="article"><meta property="og:url" content="https://pradyunsg.me/blog/2023/01/21/pdm-does-not-implement-pep-582/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-01-21T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="PDM does not implement PEP 582"><meta name=twitter:description content="PDM claims to implement PEP 582. However, if you look at what it implements, it is something completely different from the standard.
PDM&rsquo;s file system structure <root> __pypackages__ 3.10 bottle myscript.py PEP 582&rsquo;s file system structure <root> __pypackages__ lib python3.10 site-packages bottle myscript.py Why does this matter? Well, outside of the issues with implementing draft proposals in workflow tooling, I think this is reflective of the issues with the competitive nature of the Python packaging ecosystem&rsquo;s workflow tooling space."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Scribbled Notes","item":"https://pradyunsg.me/blog/"},{"@type":"ListItem","position":2,"name":"PDM does not implement PEP 582","item":"https://pradyunsg.me/blog/2023/01/21/pdm-does-not-implement-pep-582/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"PDM does not implement PEP 582","name":"PDM does not implement PEP 582","description":"PDM claims to implement PEP 582. However, if you look at what it implements, it is something completely different from the standard.\nPDM\u0026rsquo;s file system structure \u0026lt;root\u0026gt; __pypackages__ 3.10 bottle myscript.py PEP 582\u0026rsquo;s file system structure \u0026lt;root\u0026gt; __pypackages__ lib python3.10 site-packages bottle myscript.py Why does this matter? Well, outside of the issues with implementing draft proposals in workflow tooling, I think this is reflective of the issues with the competitive nature of the Python packaging ecosystem\u0026rsquo;s workflow tooling space.","keywords":["Python Packaging","PDM","PEP 582","Quick Ones"],"articleBody":"PDM claims to implement PEP 582. However, if you look at what it implements, it is something completely different from the standard.\nPDM’s file system structure __pypackages__ 3.10 bottle myscript.py PEP 582’s file system structure __pypackages__ lib python3.10 site-packages bottle myscript.py Why does this matter? Well, outside of the issues with implementing draft proposals in workflow tooling, I think this is reflective of the issues with the competitive nature of the Python packaging ecosystem’s workflow tooling space.\nI’m willing to trust that PDM’s authors are well intentioned and didn’t intentionally aim to end up with “false advertising” in the first feature the project lists in the README.\nBesides, I only look closer look at this because I was talking to one of PEP 582’s authors recently, and LWN1 linked to someone on the internet was claiming that PDM is a solution to Python packaging.\nWhich… in case someone from LWN ends up reading this: I think that was a bad editorial choice. ↩︎\n","wordCount":"164","inLanguage":"en","datePublished":"2023-01-21T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://pradyunsg.me/blog/2023/01/21/pdm-does-not-implement-pep-582/"},"publisher":{"@type":"Organization","name":"Pradyun Gedam","logo":{"@type":"ImageObject","url":"https://pradyunsg.me/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://pradyunsg.me/ accesskey=h title="Pradyun Gedam (Alt + H)">Pradyun Gedam</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://pradyunsg.me/about/ title=about><span>about</span></a></li><li><a href=https://pradyunsg.me/blog/ title=Blog><span>blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>PDM does not implement PEP 582</h1><div class=post-meta>January 21, 2023&nbsp;·&nbsp;1 minute</div></header><div class=post-content><p>PDM <a href=https://github.com/pdm-project/pdm/tree/c0974672a17be965ddcb0e191d35df08ad0c4b6e#highlights-of-features>claims to implement PEP 582</a>. However, if you look at what it implements, it is <a href=https://github.com/pdm-project/pdm/blob/c0974672a17be965ddcb0e191d35df08ad0c4b6e/src/pdm/pep582/sitecustomize.py#L11>something completely different</a> from <a href=https://peps.python.org/pep-0582/#example>the standard</a>.</p><h2 id=pdms-file-system-structure>PDM&rsquo;s file system structure<a hidden class=anchor aria-hidden=true href=#pdms-file-system-structure>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>&lt;root&gt;
</span></span><span style=display:flex><span>    __pypackages__
</span></span><span style=display:flex><span>        3.10
</span></span><span style=display:flex><span>            bottle
</span></span><span style=display:flex><span>    myscript.py
</span></span></code></pre></div><h2 id=pep-582s-file-system-structure>PEP 582&rsquo;s file system structure<a hidden class=anchor aria-hidden=true href=#pep-582s-file-system-structure>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>&lt;root&gt;
</span></span><span style=display:flex><span>    __pypackages__
</span></span><span style=display:flex><span>        lib
</span></span><span style=display:flex><span>            python3.10
</span></span><span style=display:flex><span>                site-packages
</span></span><span style=display:flex><span>                    bottle
</span></span><span style=display:flex><span>    myscript.py
</span></span></code></pre></div><h2 id=why-does-this-matter>Why does this matter?<a hidden class=anchor aria-hidden=true href=#why-does-this-matter>#</a></h2><p>Well, outside of the issues with implementing draft proposals in workflow tooling, I think this is reflective of the issues with the competitive nature of the Python packaging ecosystem&rsquo;s workflow tooling space.</p><p>I&rsquo;m willing to trust that PDM&rsquo;s authors are well intentioned and didn&rsquo;t intentionally aim to end up with &ldquo;false advertising&rdquo; in the first feature the project lists in the README.</p><p>Besides, I only look closer look at this because I was talking to one of PEP 582&rsquo;s authors recently, and <a href=https://lwn.net/SubscriberLink/920132/cb4d6c0f07b54952/>LWN</a><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> linked to someone on the internet was claiming that PDM is a solution to Python packaging.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Which&mldr; in case someone from LWN ends up reading this: I think that was a bad editorial choice.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://pradyunsg.me/tags/python-packaging/>Python packaging</a></li><li><a href=https://pradyunsg.me/tags/pdm/>PDM</a></li><li><a href=https://pradyunsg.me/tags/pep-582/>PEP 582</a></li><li><a href=https://pradyunsg.me/tags/quick-ones/>Quick ones</a></li></ul><nav class=paginav><a class=next href=https://pradyunsg.me/blog/2023/01/21/thoughts-on-python-packaging/><span class=title>Older »</span><br><span>Thoughts on the Python packaging ecosystem</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://pradyunsg.me/>Pradyun Gedam</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
with tweaks.</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>