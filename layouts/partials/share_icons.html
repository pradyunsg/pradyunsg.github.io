{{- $pageurl := .Permalink }}
{{- $title := .Title }}

{{- $.Scratch.Set "tags" "" }}

{{- with .Params.Tags }}
  {{- $hashtags := newScratch }}
  {{- range . }}
    {{ $hashtags.Add "tags" (slice (replaceRE "(\\s)" "" . )) }}
  {{ end }}
  {{- $.Scratch.Set "tags" (delimit ($hashtags.Get "tags") ",") }}
{{- end -}}

{{- $custom := false }}
{{- $ShareButtons := (.Param "ShareButtons") }}
{{- with $ShareButtons }}{{ $custom = true }}{{ end }}


<div class="share-buttons-container">
  <p class="share-buttons-label">Share on</p>
  <ul class="share-buttons">
    <li>
      <a
        target="_blank"
        rel="noopener noreferrer"
        aria-label="share {{ $title | plainify }} on mastodon"
        href="https://palant.info/fedishare.html#title={{ $title }}&url={{ $pageurl }}&description=by {{ .Site.Title }}"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          width="24px"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path
            d="M21.58 13.913c-.29 1.469-2.592 3.121-5.238 3.396-1.379.184-2.737.368-4.185.276-2.368-.092-4.237-.551-4.237-.551 0 .184.014.459.043.643.308 2.294 2.317 2.478 4.22 2.57 1.922 0 3.633-.46 3.633-.46l.079 1.653s-1.344.734-3.738.918c-1.32.091-2.96-.092-4.869-.551-4.14-1.102-4.853-5.507-4.961-10.005-.034-1.285-.013-2.57-.013-3.58 0-4.589 3-5.966 3-5.966 1.513-.734 4.11-1.01 6.808-1.01h.067c2.699 0 5.296.276 6.81 1.01 0 0 3 1.377 3 5.967 0 0 .037 3.304-.419 5.69"
            stroke="currentColor"
          />
          <path
            d="M17.832 8.633v5h-1.978V8.78c0-1.023-.43-1.542-1.29-1.542-.95 0-1.427.616-1.427 1.834v2.655H11.17V9.072c0-1.218-.476-1.834-1.427-1.834-.86 0-1.29.52-1.29 1.542v4.852H6.475V8.633c0-1.022.26-1.834.782-2.434.538-.6 1.243-.909 2.118-.909 1.012 0 1.779.39 2.286 1.169l.492.827.493-.827c.507-.78 1.274-1.169 2.286-1.169.875 0 1.58.308 2.118.909.522.6.782 1.412.782 2.434"
            fill="currentColor"
            stroke="none"
          />
        </svg>
      </a>
    </li>
    <li>
      <a
        target="_blank"
        rel="noopener noreferrer"
        aria-label="share {{ $title | plainify }} on fediverse"
        href="https://palant.info/fedishare.html#title={{ $title }}&url={{ $pageurl }}&description=by {{ .Site.Title }}"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          width="24px"
          viewBox="0 0 196.52 196.52"
          fill="currentColor"
        >
          <path
            d="M47.924 72.796a18.23 18.23 0 0 1-7.796 7.76l42.798 42.965 10.318-5.229-45.321-45.496zm56.452 56.67l-10.318 5.229 21.686 21.771a18.23 18.23 0 0 1 7.797-7.761l-19.165-19.239zm49.518-39.669l-24.229 12.279 1.786 11.427 27.415-13.894a18.23 18.23 0 0 1-4.972-9.812zm-38.295 19.408L58.31 138.238a18.23 18.23 0 0 1 4.973 9.813l54.103-27.419-1.786-11.428zM97.175 37.686L69.531 91.654l8.162 8.193 29.269-57.139a18.23 18.23 0 0 1-9.787-5.022zM62.341 105.69l-14.002 27.335a18.23 18.23 0 0 1 9.786 5.021l12.378-24.164-8.161-8.193zm-22.45-25.014a18.23 18.23 0 0 1-9.106 1.904l-1.76-.184 8.176 52.298a18.23 18.23 0 0 1 9.106-1.904l1.759.184-8.175-52.298zm23.435 67.634a18.23 18.23 0 0 1-1.732 10.863l52.289 8.391a18.23 18.23 0 0 1 1.732-10.863l-52.289-8.391zM159.05 99.8l-24.135 47.117a18.23 18.23 0 0 1 9.788 5.022l24.134-47.117a18.23 18.23 0 0 1-9.788-5.023zm-32.917-66.64a18.23 18.23 0 0 1-7.797 7.761l37.376 37.521a18.23 18.23 0 0 1 7.797-7.761L126.133 33.16zm-34.114-5.477L44.77 51.628a18.23 18.23 0 0 1 4.972 9.812L96.99 37.495a18.23 18.23 0 0 1-4.972-9.811zm26.23 13.281a18.23 18.23 0 0 1-9.256 1.98l-1.595-.167 4.185 26.8 11.42 1.832-4.754-30.445zm-4.233 44.193l9.896 63.363a18.23 18.23 0 0 1 10.88-1.628l-9.355-59.903-11.42-1.832zm-64.24-23.516a18.23 18.23 0 0 1 .201 3.729 18.23 18.23 0 0 1-1.894 7.139l26.821 4.308 5.272-10.294-30.398-4.882zm45.968 7.382l-5.272 10.295 63.371 10.178a18.23 18.23 0 0 1-.184-3.63 18.23 18.23 0 0 1 1.945-7.23l-59.86-9.614z"
          />
          <g
            transform="matrix(.99852 .054393 -.054393 .99852 6.679 -32.496)"
            class="B"
          >
            <circle cx="106.266" cy="51.536" r="16.571" />
            <circle cx="171.428" cy="110.193" r="16.571" />
            <circle cx="135.764" cy="190.277" r="16.571" />
            <circle cx="48.559" cy="181.114" r="16.571" />
            <circle cx="30.329" cy="95.367" r="16.571" />
          </g>
        </svg>
      </a>
    </li>
    <li>
      <a
        target="_blank"
        rel="noopener noreferrer"
        aria-label="share {{ $title | plainify }} on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url={{ $pageurl }}&amp;title={{ $title }}&amp;summary={{ $title }}&amp;source={{ $pageurl }}"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          width="24px"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path
            d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
          ></path>
          <rect x="2" y="9" width="4" height="12"></rect>
          <circle cx="4" cy="4" r="2"></circle>
        </svg>
      </a>
    </li>
    <li>
      <a
        target="_blank"
        rel="noopener noreferrer"
        aria-label="share {{ $title | plainify }} on reddit"
        href="https://reddit.com/submit?url={{ $pageurl }}&title={{ $title }}"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          width="24px"
          viewBox="0 0 24 24"
          fill="currentColor"
          stroke="none"
          stroke-width="1"
        >
          <path
            d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.715 0-1.363.286-1.84.746-1.81-1.191-4.259-1.949-6.971-2.046l1.483-4.669 4.016.941-.006.058c0 1.193.975 2.163 2.174 2.163 1.198 0 2.172-.97 2.172-2.163s-.975-2.164-2.172-2.164c-.92 0-1.704.574-2.021 1.379l-4.329-1.015c-.189-.046-.381.063-.44.249l-1.654 5.207c-2.838.034-5.409.798-7.3 2.025-.474-.438-1.103-.712-1.799-.712-1.465 0-2.656 1.187-2.656 2.646 0 .97.533 1.811 1.317 2.271-.052.282-.086.567-.086.857 0 3.911 4.808 7.093 10.719 7.093s10.72-3.182 10.72-7.093c0-.274-.029-.544-.075-.81.832-.447 1.405-1.312 1.405-2.318zm-17.224 1.816c0-.868.71-1.575 1.582-1.575.872 0 1.581.707 1.581 1.575s-.709 1.574-1.581 1.574-1.582-.706-1.582-1.574zm9.061 4.669c-.797.793-2.048 1.179-3.824 1.179l-.013-.003-.013.003c-1.777 0-3.028-.386-3.824-1.179-.145-.144-.145-.379 0-.523.145-.145.381-.145.526 0 .65.647 1.729.961 3.298.961l.013.003.013-.003c1.569 0 2.648-.315 3.298-.962.145-.145.381-.144.526 0 .145.145.145.379 0 .524zm-.189-3.095c-.872 0-1.581-.706-1.581-1.574 0-.868.709-1.575 1.581-1.575s1.581.707 1.581 1.575-.709 1.574-1.581 1.574z"
          />
        </svg>
      </a>
    </li>
    <li>
      <a
        target="_blank"
        rel="noopener noreferrer"
        aria-label="share {{ $title | plainify }} on ycombinator"
        href="https://news.ycombinator.com/submitlink?t={{ $title }}&u={{ $pageurl }}"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          width="24px"
          viewBox="0 0 24 24"
          fill="currentColor"
          stroke="none"
          stroke-width="1"
        >
          <path
            d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"
          />
        </svg>
      </a>
    </li>
  </ul>
</div>
